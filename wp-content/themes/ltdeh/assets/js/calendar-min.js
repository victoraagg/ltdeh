function AdjustMinTime(e){var a=new Date,t=a.getDate(),r=a.getMonth()+1,o=a.getFullYear()+"-"+(r<10?"0"+r:r)+"-"+(t<10?"0"+t:t);e.dateFormat("Y-m-d")==o?this.setOptions({minTime:0}):this.setOptions({minTime:!1})}jQuery("#book-success").hide(),jQuery("#book-error").hide(),jQuery("#aditional-info").hide(),jQuery("#event-start-time").datetimepicker({lazyInit:!0,format:"Y-m-d H:i",minDate:0,minTime:"08:00",maxTime:"23:00",step:30,dayOfWeekStart:1,lang:"es",onShow:AdjustMinTime,onSelectDate:AdjustMinTime}),jQuery("#event-calendar").on("change",function(e){switch(jQuery(this).val()){case"dq4085nmcb9svmd9pnkd9hb3g8@group.calendar.google.com":jQuery("#aditional-info").hide();break;case"7g63qi1hldp6ci6986olel5ijs@group.calendar.google.com":case"hm8m3t1o667so9loes15kfb42o@group.calendar.google.com":jQuery("#aditional-info").show();break;case"l559o05ppas8815rp3dv94m6co@group.calendar.google.com":case"gh6rh0jhfdc6mgj42occ5qctr4@group.calendar.google.com":jQuery("#aditional-info").hide();break;case"0t3vd0rve6ec4cipcdqka6dd9k@group.calendar.google.com":case"hcq4uc70s28gu6j4kpcab1l7ds@group.calendar.google.com":case"7p9lca7q3rsavhqdal1ftd0dn0@group.calendar.google.com":jQuery("#aditional-info").show()}}),jQuery("#create-event").on("click",function(e){e.preventDefault();var a,t=/^([\s]{0,}[^\s]{1,}[\s]{0,}){1,}$/,r=0;if(t.test(jQuery("#event-title").val())||(r=1),t.test(jQuery("#event-mail").val())||(r=1),t.test(jQuery("#event-phone").val())||(r=1),t.test(jQuery("#event-calendar").val())||(r=1),t.test(jQuery("#event-start-time").val())||(r=1),1==r)return!1;var o=jQuery("#event-start-time").val().split(" "),n=o[1].split(":"),i=parseInt(n[0])+parseInt(jQuery("#event-duration").val()),s=o[0]+" "+i+":"+n[1];a={title:jQuery("#event-title").val(),mail:jQuery("#event-mail").val(),phone:jQuery("#event-phone").val(),dni:jQuery("#event-dni").val(),representation:jQuery("#event-representation").val(),activity:jQuery("#event-activity").val(),event_time:{start_time:jQuery("#event-start-time").val().replace(" ","T")+":00",end_time:s.replace(" ","T")+":00"},calendar:jQuery("#event-calendar").val()},jQuery.ajax({type:"POST",url:wp_ajax_calendar.ajaxurl,data:{action:"create_book",event_details:a},dataType:"json",success:function(e){"Error"==e.message?(jQuery("#book-success").hide(),jQuery("#book-error").hide(),jQuery("#book-error").show().text("No hay disponibilidad en ese horario")):(jQuery("#book-success").hide(),jQuery("#book-error").hide(),jQuery("#book-success").show().text("Reserva: "+e.message+" creada correctamente. Confirmaremos tu reserva en el email indicado.")),document.getElementById("form-book").reset()}})});